<!DOCTYPE html>
<html>
<head><title>Icon Generator</title></head>
<body>
<canvas id="canvas"></canvas>
<div id="status">Generating icons...</div>
<div id="downloads"></div>
<script>
// Icon generation using Canvas API
// We'll render the logo at various sizes and provide download links

const BG_COLOR = '#1a1612';
const TEXT_COLOR = '#f5efe0';
const GOLD_COLOR = '#c9a94e';
const LINE_OPACITY = 0.45;

function drawIcon(canvas, size, maskable = false) {
  canvas.width = size;
  canvas.height = size;
  const ctx = canvas.getContext('2d');

  // Background
  if (maskable) {
    // Full bleed for maskable
    ctx.fillStyle = BG_COLOR;
    ctx.fillRect(0, 0, size, size);
  } else {
    // Rounded rect
    const r = size * (80/512);
    ctx.fillStyle = BG_COLOR;
    ctx.beginPath();
    ctx.roundRect(0, 0, size, size, r);
    ctx.fill();
  }

  const scale = size / 512;

  if (!maskable) {
    // Gold accent lines
    ctx.fillStyle = GOLD_COLOR;
    ctx.globalAlpha = LINE_OPACITY;
    const lineY1 = 132 * scale;
    const lineY2 = 362 * scale;
    const lineX = 80 * scale;
    const lineW = 352 * scale;
    const lineH = Math.max(2.5 * scale, 1);
    roundRect(ctx, lineX, lineY1, lineW, lineH, lineH/2);
    roundRect(ctx, lineX, lineY2, lineW, lineH, lineH/2);
    ctx.globalAlpha = 1;
  }

  // Text
  const fontSize = maskable ? 125 * scale : 155 * scale;
  ctx.font = `800 ${fontSize}px "Segoe UI", "Helvetica Neue", Arial, sans-serif`;
  ctx.textBaseline = 'alphabetic';

  if (maskable) {
    const y = 300 * scale;
    ctx.fillStyle = TEXT_COLOR;
    ctx.fillText('L', 82 * scale, y);
    ctx.fillStyle = GOLD_COLOR;
    ctx.fillText('2', 192 * scale, y);
    ctx.fillStyle = TEXT_COLOR;
    ctx.fillText('P', 308 * scale, y);
  } else {
    const y = 325 * scale;
    ctx.fillStyle = TEXT_COLOR;
    ctx.fillText('L', 52 * scale, y);
    ctx.fillStyle = GOLD_COLOR;
    ctx.fillText('2', 186 * scale, y);
    ctx.fillStyle = TEXT_COLOR;
    ctx.fillText('P', 330 * scale, y);
  }
}

function roundRect(ctx, x, y, w, h, r) {
  ctx.beginPath();
  ctx.roundRect(x, y, w, h, r);
  ctx.fill();
}

function drawFavicon(canvas) {
  const size = 32;
  canvas.width = size;
  canvas.height = size;
  const ctx = canvas.getContext('2d');

  // Background with rounded corners
  ctx.fillStyle = BG_COLOR;
  ctx.beginPath();
  ctx.roundRect(0, 0, size, size, 6);
  ctx.fill();

  // Text
  ctx.font = '800 16px "Segoe UI", "Helvetica Neue", Arial, sans-serif';
  ctx.textAlign = 'center';
  ctx.textBaseline = 'alphabetic';

  // Measure to center
  const text = 'L2P';
  const fullWidth = ctx.measureText(text).width;

  // Draw individual letters
  const lWidth = ctx.measureText('L').width;
  const twoWidth = ctx.measureText('2').width;

  const startX = (size - fullWidth) / 2;
  ctx.textAlign = 'left';

  ctx.fillStyle = TEXT_COLOR;
  ctx.fillText('L', startX, 23);
  ctx.fillStyle = GOLD_COLOR;
  ctx.fillText('2', startX + lWidth, 23);
  ctx.fillStyle = TEXT_COLOR;
  ctx.fillText('P', startX + lWidth + twoWidth, 23);
}

// Generate all sizes
const canvas = document.getElementById('canvas');
const downloads = document.getElementById('downloads');
const status = document.getElementById('status');

const icons = [
  { name: 'icon-192.png', size: 192, maskable: false },
  { name: 'icon-512.png', size: 512, maskable: false },
  { name: 'icon-maskable-192.png', size: 192, maskable: true },
  { name: 'icon-maskable-512.png', size: 512, maskable: true },
  { name: 'apple-touch-icon.png', size: 180, maskable: true },
  { name: 'favicon-32.png', size: 32, maskable: false, favicon: true },
  { name: 'favicon-16.png', size: 16, maskable: false, favicon: true },
];

// Store all generated data URLs
window.generatedIcons = {};

icons.forEach(icon => {
  if (icon.favicon) {
    if (icon.size === 32) {
      drawFavicon(canvas);
    } else {
      // 16px - same as 32 but smaller canvas
      canvas.width = 16;
      canvas.height = 16;
      const ctx = canvas.getContext('2d');
      ctx.fillStyle = BG_COLOR;
      ctx.beginPath();
      ctx.roundRect(0, 0, 16, 16, 3);
      ctx.fill();
      ctx.font = '800 9px "Segoe UI", "Helvetica Neue", Arial, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillStyle = TEXT_COLOR;
      ctx.fillText('L2P', 8, 13);
    }
  } else {
    drawIcon(canvas, icon.size, icon.maskable);
  }

  const dataUrl = canvas.toDataURL('image/png');
  window.generatedIcons[icon.name] = dataUrl;

  const link = document.createElement('a');
  link.href = dataUrl;
  link.download = icon.name;
  link.textContent = `Download ${icon.name} (${icon.size}x${icon.size})`;
  link.style.display = 'block';
  link.style.margin = '8px';
  downloads.appendChild(link);
});

// Show the 512px version as preview
drawIcon(canvas, 512, false);
canvas.style.width = '256px';
canvas.style.height = '256px';
canvas.style.border = '1px solid #ccc';

status.textContent = `Generated ${icons.length} icons. Ready to save.`;
window.iconsReady = true;
</script>
</body>
</html>
